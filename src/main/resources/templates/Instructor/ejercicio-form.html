<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <title th:text="${ejercicio.id == null} ? 'Crear ejercicio' : 'Editar ejercicio'">Ejercicio</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.9.4/css/bulma.min.css">
    <style>
        :root{--bg:#0a0a0e;--ink:#f2f2f2;--muted:#b7b7c2;--accent:#ffc107;--card:#111118;--line:#1b1b25}
        html,body{background:var(--bg);color:var(--ink)}
        .cardx{background:var(--card);border:1px solid var(--line);border-radius:12px;padding:1rem}
        .muted{color:var(--muted)}
        .btn-main{background:var(--accent);color:#111;padding:.45rem .8rem;border-radius:8px;border:none;font-weight:800}
        label{font-weight:700}
        .control .input, .control .textarea{background:#0d0d12;color:var(--ink);border:1px solid #222}
    </style>
</head>
<body>

<nav class="navbar" role="navigation">
    <div class="container">
        <div class="navbar-brand">
            <a class="navbar-item brand" href="/instructor">DEBUG Gym · Instructor</a>
        </div>
        <div class="navbar-menu">
            <div class="navbar-end">
                <div class="navbar-item">
                    <a class="button is-light" href="/instructor/ejercicios">Volver</a>
                </div>
            </div>
        </div>
    </div>
</nav>

<section class="section">
    <div class="container">
        <div class="cardx" style="max-width:900px;margin:0 auto">
            <h2 class="title is-4" th:text="${ejercicio.id == null} ? 'Crear ejercicio' : 'Editar ejercicio'">Formulario</h2>

            <!-- CORRECCIÓN: th:object debe usar el nombre 'ejercicio' (minuscula) que es el atributo del modelo -->
            <form th:action="@{/instructor/ejercicios/guardar}" th:object="${ejercicio}" method="post">
                <input type="hidden" th:field="*{id}"/>
                <div class="field">
                    <label class="label">Nombre</label>
                    <div class="control">
                        <input class="input" type="text" th:field="*{nombre}" required/>
                    </div>
                </div>

                <div class="field">
                    <label class="label">Músculo</label>
                    <div class="control">
                        <input class="input" type="text" th:field="*{musculo}" />
                    </div>
                </div>

                <div class="field">
                    <label class="label">Link de video (embed o URL)</label>
                    <div class="control">
                        <input class="input" type="text" th:field="*{linkVideo}" />
                    </div>
                </div>

                <div class="field">
                    <label class="label">Descripción</label>
                    <div class="control">
                        <textarea class="textarea" th:field="*{descripcion}" rows="6"></textarea>
                    </div>
                </div>

                <div style="display:flex;gap:.5rem;justify-content:flex-end;margin-top:1rem">
                    <a class="button is-light" href="/instructor/ejercicios">Cancelar</a>
                    <button type="submit" class="btn-main">Guardar</button>
                </div>
            </form>

        </div>
    </div>
</section>

</body>
</html>