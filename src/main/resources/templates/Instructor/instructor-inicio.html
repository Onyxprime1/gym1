<!--/*@thymesVar name="nombre" type="java.lang.String" */-->
<!--/*@thymesVar name="ejerciciosCount" type="java.lang.Integer" */-->
<!--/*@thymesVar name="rutinasCount" type="java.lang.Integer" */-->
<!--/*@thymesVar name="recentEjercicios" type="java.util.List<com.example.gym1.Poo.Ejercicio>" */-->
<!--/*@thymesVar name="recentRutinas" type="java.util.List<com.example.gym1.Poo.Rutina>" */-->
<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <title>DEBUG Gym · Panel Instructor</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.9.4/css/bulma.min.css">
    <style>
        :root{--bg:#0a0a0e;--ink:#f2f2f2;--muted:#b7b7c2;--accent:#ffc107;--card:#111118;--line:#1b1b25}
        html,body{background:var(--bg);color:var(--ink)}
        .cardx{background:var(--card);border:1px solid var(--line);border-radius:12px;padding:1rem}
        .muted{color:var(--muted)}
        .btn-main{background:var(--accent);color:#111;padding:.45rem .8rem;border-radius:8px;border:none;font-weight:800}
        .stats{display:flex;gap:1rem;flex-wrap:wrap;margin-bottom:1rem}
        .stat{background:#0f0f14;padding:1rem;border-radius:10px;min-width:180px}
        a{color:var(--accent)}
        table{width:100%;color:var(--ink)}
        th,td{padding:.35rem .6rem}
        thead{background:#0e0e13}
    </style>
</head>
<body>
<nav class="navbar">
    <div class="container">
        <div class="navbar-brand"><a class="navbar-item brand" href="/instructor">DEBUG Gym · Instructor</a></div>
        <div class="navbar-menu"><div class="navbar-end"><div class="navbar-item"><a class="button is-light" href="/logout">Cerrar sesión</a></div></div></div>
    </div>
</nav>

<section class="section">
    <div class="container">
        <div class="cardx">
            <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:1rem">
                <div>
                    <h1 class="title is-4">Bienvenido, <span th:text="${nombre}">Instructor</span></h1>
                    <p class="muted">Panel rápido para gestionar ejercicios y rutinas.</p>
                </div>
                <div>
                    <a href="/instructor/ejercicios/nuevo" class="btn-main">+ Nuevo ejercicio</a>
                    <a href="/instructor/rutinas/crear" class="button is-light" style="margin-left:.5rem">+ Nueva rutina</a>
                </div>
            </div>

            <div class="stats">
                <div class="stat">
                    <div style="font-weight:800;font-size:0.9rem">Ejercicios</div>
                    <div style="font-size:1.6rem;font-weight:900" th:text="${ejerciciosCount}">0</div>
                    <div class="muted">Total de ejercicios</div>
                    <div style="margin-top:.5rem"><a href="/instructor/ejercicios">Ver todos</a></div>
                </div>
                <div class="stat">
                    <div style="font-weight:800;font-size:0.9rem">Rutinas</div>
                    <div style="font-size:1.6rem;font-weight:900" th:text="${rutinasCount}">0</div>
                    <div class="muted">Rutinas asignadas por ti</div>
                    <div style="margin-top:.5rem"><a href="/instructor/rutinas">Ver rutinas</a></div>
                </div>
            </div>

            <div style="display:flex;gap:1rem;align-items:flex-start">
                <div style="flex:1">
                    <h3 class="title is-5">Últimos ejercicios</h3>
                    <div style="overflow:auto">
                        <table>
                            <thead><tr><th>Nombre</th><th>Músculo</th><th style="width:120px">Acciones</th></tr></thead>
                            <tbody>
                            <tr th:each="e : ${recentEjercicios}">
                                <td th:text="${e.nombre}">Nombre</td>
                                <td th:text="${e.musculo}">Músculo</td>
                                <td>
                                    <a class="button is-small is-link" th:href="@{|/instructor/ejercicios/editar/${e.id}|}">Editar</a>
                                </td>
                            </tr>
                            <tr th:if="${#lists.isEmpty(recentEjercicios)}"><td colspan="3" class="muted">No hay ejercicios.</td></tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <div style="width:420px">
                    <h3 class="title is-5">Tus rutinas recientes</h3>
                    <div style="overflow:auto">
                        <table>
                            <thead><tr><th>Nombre</th><th>Cliente</th><th style="width:120px">Acciones</th></tr></thead>
                            <tbody>
                            <tr th:each="r : ${recentRutinas}">
                                <td th:text="${r.nombre}">Nombre</td>
                                <td th:text="${r.cliente != null ? r.cliente.nombre : '—'}">Cliente</td>
                                <td>
                                    <a class="button is-small is-link" th:href="@{|/instructor/rutinas/editar/${r.id}|}">Editar</a>
                                </td>
                            </tr>
                            <tr th:if="${#lists.isEmpty(recentRutinas)}"><td colspan="3" class="muted">No hay rutinas.</td></tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

        </div>
    </div>
</section>
</body>
</html>